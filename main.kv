#:kivy 2.1.0

#:import Factory kivy.factory.Factory
<SettingPopup@Popup>:
    title : 'Settings'
    size_hint : 0.5, 0.95
    FloatLayout:
        size_hint : 1, 1
        Label:
            id: GPU_limit_desc_label
            text : 'GPU Usage Limit\n (DEPRECEATED)'
            halign : 'left'
            font_name : 'ocr-a'
            font_size : sp(16)
            pos : sp(110), sp(80)
        Slider:
            id: GPU_Slider
            min : 0
            max : 100
            value : 100
            step : 1
            orientation: 'horizontal'
            pos : sp(400), sp(80)
            size_hint_x : 0.5
            on_touch_move: root.limit_changed()
        Label:
            id: GPU_limit_value_label
            text : "100%"
            halign : 'center'
            font_name : 'ocr-a'
            font_size : sp(14)
            pos: sp(295), sp(60)
            
<RootWidget> 
    canvas:
        Color:
            rgba : 40/255, 113/255, 199/255, 1
        
        Rectangle: 
            pos: sp(75), sp(100)
            size: sp(7.5), sp(110)
        
        Rectangle:
            pos: sp(790), sp(0)
            size: sp(60), sp(250)
    CycleLabel:
        id: c_label
    
    Label:
        id: gpu_util
        text: "GPU: 0%"
        halign: "center"
        font_name : "ocr-a"
        font_size: sp(25)
        pos: sp(550), sp(90)
    
    Button:
        pos: sp(800), sp(154)
        size: sp(40), sp(40)
        background_color: 0,0,0,0
        on_release: Factory.SettingPopup().open()
        id: settings_button
        Image: 
            source: 'assets/cog.png'
            center_x: self.parent.center_x
            center_y: self.parent.center_y

    Button:
        pos: sp(800), sp(56)
        size: sp(40), sp(40)
        background_color: 0,0,0,0
        on_release: root.status_released()
        id: status_button
        Image:
            id: status_image
            source: 'assets/play.png'
            center_x: self.parent.center_x
            center_y: self.parent.center_y
    
    ProgressMeter:
        id: p_bar

